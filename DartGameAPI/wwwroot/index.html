<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>DartsMob</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" href="/favicon.svg">
    <link rel="stylesheet" href="/css/dartsmob.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Special+Elite&display=swap" rel="stylesheet">
</head>
<body>
    <div id="background-layer" class="background-layer"></div>
    <div id="background-overlay" class="background-overlay"></div>

    <!-- ================================================================== -->
    <!-- SETUP SCREEN - Full viewport                                      -->
    <!-- ================================================================== -->
    <main id="setup-screen" class="screen setup-screen">
        <!-- Header inside screen so it's not covered -->
        <header class="main-header">
            <div class="brand">
                <h1 id="app-title" class="app-title">DARTS<span class="accent">MOB</span></h1>
                <p id="app-tagline" class="tagline">‚Äî The Family's Game ‚Äî</p>
            </div>
            <a href="/settings.html" class="settings-link" title="Settings">‚öôÔ∏è</a>
        </header>

        <div class="setup-card">
            <h2 class="card-title">NEW GAME</h2>
            
            <!-- Game Mode -->
            <div class="form-section">
                <label class="form-label">GAME TYPE</label>
                <div class="btn-group mode-group">
                    <button class="mode-btn active" data-mode="Practice">PRACTICE</button>
                    <button class="mode-btn" data-mode="Game501">501</button>
                    <button class="mode-btn" data-mode="Game301">301</button>
                </div>
            </div>

            <!-- Legs (hidden for Practice) -->
            <div class="form-section" id="legs-section">
                <label class="form-label">BEST OF</label>
                <div class="btn-group legs-group">
                    <button class="legs-btn" data-legs="1">1</button>
                    <button class="legs-btn" data-legs="3">3</button>
                    <button class="legs-btn active" data-legs="5">5</button>
                    <button class="legs-btn" data-legs="7">7</button>
                </div>
            </div>

            <!-- Players -->
            <div class="form-section">
                <label class="form-label">PLAYERS</label>
                <div id="players-list" class="players-list">
                    <input type="text" class="player-input" placeholder="Player 1" value="Player 1">
                    <input type="text" class="player-input" placeholder="Player 2">
                </div>
                <button id="add-player-btn" class="btn-add">+ Add Player</button>
            </div>

            <!-- Start Button -->
            <button id="start-game-btn" class="btn-start">
                üéØ START GAME
            </button>
        </div>
        
        <footer class="setup-footer">
            <span id="connection-status" class="connection">üîå Connecting...</span>
        </footer>
    </main>

    <!-- ================================================================== -->
    <!-- GAME SCREEN - Full viewport, maximum space                        -->
    <!-- ================================================================== -->
    <main id="game-screen" class="screen game-screen hidden">
        <!-- Compact Game Header -->
        <header class="game-header">
            <div class="game-info">
                <span id="game-mode-display" class="game-mode">501</span>
                <span id="legs-display" class="legs-info">Leg 1/5</span>
            </div>
            <button id="end-game-btn" class="btn-end">‚úï End</button>
        </header>

        <!-- Scoreboard - Takes most of the space -->
        <section id="scoreboard" class="scoreboard">
            <!-- Player cards inserted dynamically -->
        </section>

        <!-- Current Turn - Compact bottom bar -->
        <section class="turn-bar">
            <div class="darts-row">
                <div class="dart-slot" data-dart="0">‚Äî</div>
                <div class="dart-slot" data-dart="1">‚Äî</div>
                <div class="dart-slot" data-dart="2">‚Äî</div>
            </div>
            <div class="turn-total">
                <span class="label">TURN</span>
                <span id="turn-score" class="score">0</span>
            </div>
        </section>
    </main>

    <!-- ================================================================== -->
    <!-- GAME OVER SCREEN                                                  -->
    <!-- ================================================================== -->
    <main id="gameover-screen" class="screen gameover-screen hidden">
        <div class="winner-card">
            <span class="crown">üëë</span>
            <h2 class="winner-label">WINNER</h2>
            <p id="winner-name" class="winner-name">PLAYER</p>
            <p id="winner-stats" class="winner-stats">15 darts</p>
            <button id="new-game-btn" class="btn-start">üéØ PLAY AGAIN</button>
        </div>
    </main>

    <!-- Last Throw Popup -->
    <div id="throw-popup" class="throw-popup hidden">
        <span class="throw-zone">TRIPLE</span>
        <span class="throw-value">20</span>
    </div>

    <!-- Dart Correction Modal -->
    <div id="dart-correction-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content correction-modal">
            <h3>Correct Dart <span id="correction-dart-num">1</span></h3>
            
            <!-- Multiplier selector -->
            <div class="multiplier-row">
                <button class="mult-btn active" data-mult="1">SINGLE</button>
                <button class="mult-btn" data-mult="2">DOUBLE</button>
                <button class="mult-btn" data-mult="3">TRIPLE</button>
            </div>
            
            <!-- Number keypad -->
            <div class="keypad">
                <button class="key-btn" data-val="1">1</button>
                <button class="key-btn" data-val="2">2</button>
                <button class="key-btn" data-val="3">3</button>
                <button class="key-btn" data-val="4">4</button>
                <button class="key-btn" data-val="5">5</button>
                <button class="key-btn" data-val="6">6</button>
                <button class="key-btn" data-val="7">7</button>
                <button class="key-btn" data-val="8">8</button>
                <button class="key-btn" data-val="9">9</button>
                <button class="key-btn" data-val="10">10</button>
                <button class="key-btn" data-val="11">11</button>
                <button class="key-btn" data-val="12">12</button>
                <button class="key-btn" data-val="13">13</button>
                <button class="key-btn" data-val="14">14</button>
                <button class="key-btn" data-val="15">15</button>
                <button class="key-btn" data-val="16">16</button>
                <button class="key-btn" data-val="17">17</button>
                <button class="key-btn" data-val="18">18</button>
                <button class="key-btn" data-val="19">19</button>
                <button class="key-btn" data-val="20">20</button>
            </div>
            
            <!-- Special buttons -->
            <div class="special-row">
                <button class="key-btn miss-btn" data-val="0">MISS</button>
                <button class="key-btn bull-btn" data-val="25" data-mult="1">BULL</button>
                <button class="key-btn dbull-btn" data-val="25" data-mult="2">D-BULL</button>
            </div>
            
            <!-- Preview and confirm -->
            <div class="correction-preview">
                <span id="correction-preview-text">‚Äî</span>
                <span id="correction-preview-score">0</span>
            </div>
            
            <div class="correction-actions">
                <button id="correction-cancel" class="btn btn-secondary">Cancel</button>
                <button id="correction-confirm" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Fullscreen Toggle -->
    <button id="fullscreen-btn" class="fullscreen-btn">‚õ∂</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.0/signalr.min.js"></script>
    <script src="/js/dartsmob.js"></script>
</body>
</html>
